name: Auto Create PRs
on:
    pull_request:
      branches:
        - main

jobs:
  auto-create-prs:
    name: Auto Create PRs
    timeout-minutes: 30
    runs-on: ubuntu-latest

    steps:
        - name: Create PR to UK-MAIN
          uses: devops-infra/action-pull-request@v0.5.5
          with:
            github_token: ${{ secrets.GITHUB_TOKEN }}
            source_branch: ${{ github.head_ref }}
            target_branch: uk-main
            title: Automatic pull request from ${{ github.head_ref }}
            body: "**Automated pull request**"
            assignee: octocat
            # old_string: "<!-- Add your description here -->"
            # new_string: "** Automatic pull request**"
            get_diff: true
            ignore_users: "dependabot"
            allow_no_diff: false